<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bans.Create</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />

    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/custom.css">

    <script src="./js/constants.js"></script>
 	<script src="./js/create.js"></script>
  </head>

  <body>
    <nav class="navbar" role="navigation" aria-label="main navigation">
      <div class="navbar-brand">
        <a class="navbar-item" href="https://bans.page">
          <img src="img/Logo.png" width="112" height="28">
        </a>
    
        <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarBasic">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>
    
      <div id="navbarBasic" class="navbar-menu">
        <div class="navbar-start">
          <a class="navbar-item" href="./index.html">Home</a>
          <a class="navbar-item" href="./create/index.html">Stagelist Builder</a>
          <a class="navbar-item" href="./about.html">About</a>
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link">Presets</a>
            <div class="navbar-dropdown">
              <a class="navbar-item">SMASHADELPHIA Stagelist</a>
              <a class="navbar-item">Xanadu Stagelist</a>
              <a class="navbar-item">2GG's Stagelist</a>
              <a class="navbar-item">Ori's (Michigan TO) Stagelist</a>
            </div>
          </div>
        </div>
    </nav>

    <section class="section">
        <div class="container has-text-centered">
            <h1 class="title is-2">Create Your Own Stagelist!</h1>
            <p>Welcome to the Bans.Page Stagelist creator! Use the (+) and (-) buttons to add and remove stages from groups. When you're happy with your selection, click "Create Stagelist"!<br />Once viewing your Stagelist, you can share it with others by copying the URL.</p>
            <br/><p>The ¬ symbol means a stage should only be played without Stage Hazards.</p>
        </div>
    </section>

    <div id="buckets" class="container has-text-centered">
        <section id="bucket1" class="box">
            <h2 class="title is-4">Starters</h2>
            <div>
                <article class="field is-grouped is-grouped-centered">
                    <div class="select">
                        <select>
                        </select>
                    </div>
                    <div class="field">
                        <input id="switchExample" type="checkbox" name="switchExample" class="switch" checked="checked" />
                        <label for="switchExample"><p>¬</p></label>
                    </div>
                </article>
            </div>
            <a class="button is-info" href="javascript:addStage(1)">Add</a>
            <a class="button is-danger" href="javascript:removeStage(1)">Remove</a>
        </section>
        <section id="bucket2" class="box">
          <h2 class="title is-4">Counterpicks</h2>
          <div>
              <article class="field is-grouped is-grouped-centered">
                <div class="select">
                    <select>
                    </select>
                </div>
                <div class="field">
                    <input id="switchExample" type="checkbox" name="switchExample" class="switch" checked="checked" />
                    <label for="switchExample"><p>¬</p></label>
                </div>
              </article>
          </div>
            <a class="button is-info" href="javascript:addStage(2)">Add</a>
            <a class="button is-danger" href="javascript:removeStage(2)">Remove</a>
        </section>
        <a class="button" href="javascript:addBucket()">Add Stage Bucket</a>
    </div>

    <footer class="footer has-text-centered">
      <div class="container">
         <div class="columns">
          <div class="column is-8-desktop is-offset-2-desktop">
            <p>
              <strong class="has-text-weight-semibold">
                <a href="https://bans.page">BansPage</a>
              </strong>
            </p>
            <p>
              <small>
                  <p>Created by <a href="https://twitter.com/WaveParadigm">WaveParadigm</a> and <a href="https://twitter.com/VGInvis">Invis</a></p>
              </small>
            </p>
            <p style="margin-top: 1rem;">
              <a href="http://bulma.io">
                <img src="./img/made-with-bulma.png" alt="Made with Bulma" width="128" height="24">
              </a>
            </p>
          </div>
        </div>
      </div>
    </footer>

    <input class="hidden" type="text" id="generatedCode" />
  </body>

  <script>
    // Get all "navbar-burger" elements
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

    // Check if there are any navbar burgers
    if ($navbarBurgers.length > 0) {

      // Add a click event on each of them
      $navbarBurgers.forEach( el => {
        el.addEventListener('click', () => {

          // Get the target from the "data-target" attribute
          const target = el.dataset.target;
          const $target = document.getElementById(target);

          // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
          el.classList.toggle('is-active');
          $target.classList.toggle('is-active');

        });
      });
    }

    setLimits(); //read ?nolimits and toggle settings if needed
    loadSelects(); //populate all existing dropdowns on screen. will redirect to nolimits if stage ID not found in whitelist
	  loadFromURL(); //try to populate from URL
  </script>
</html>
